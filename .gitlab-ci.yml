stages:
  - test

test_job:
  stage: test
  image: python:slim
  script:
    - echo "Running tests..."
    - python -m pip install --upgrade pip
    - pip install hatch pytest mypy
    - hatch test --cover
  coverage: '/TOTAL.*? (100(?:\.0+)?\%|[1-9]?\d(?:\.\d+)?\%)$/'
